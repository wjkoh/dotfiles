set hostname="google.com"
set folder="imaps://imap.gmail.com/"
set spoolfile="+INBOX"
set postponed="+[Gmail]/Drafts"
set copy=no
set move=no
unset record

# Header cache, to speed things up.
set header_cache = /usr/local/google/home/$LOGNAME/Mail/mutt_header_cache
set message_cachedir = /usr/local/google/home/$LOGNAME/Mail/mutt_message_cache

# IMAP fine-tuning.
unset imap_passive
set imap_check_subscribed
set mail_check=60

# IMAP and SMTP authentication happens via oauth, using the helper script
# described above. You will need to prodaccess in order for the script to work.
set imap_authenticators="oauthbearer"
set imap_user="`whoami`@google.com"
set imap_oauth_refresh_command="~/bin/corp_mail_oauth2.par"

set smtp_authenticators="oauthbearer"
set smtp_url="smtps://`whoami`@google.com@smtp.gmail.com:465"
set smtp_oauth_refresh_command="~/bin/corp_mail_oauth2.par"

# Sort threads in a reverse chronological order.
set sort_aux=last-date-received
# Sort messages in each thread.
set sort=reverse-threads

# Vi key bindings.
bind pager j next-line
bind pager k previous-line
bind attach,index,pager \CD half-down
bind attach,index,pager \CU half-up
bind attach,browser,pager,index \CF next-page
bind attach,browser,pager,index \CB previous-page
bind pager g top
bind pager G bottom
bind attach,index g first-entry
bind attach,index G last-entry

# Sidebar navigation.
bind index,pager <down> sidebar-next
bind index,pager <up> sidebar-prev
bind index,pager <right> sidebar-open

# Other key bindings.
bind index R group-reply
bind index <tab> sync-mailbox
bind index <space> collapse-thread

# Do not ask.
set fast_reply=yes
set include=yes
folder-hook . exec collapse-all

# Sidebar.
set sidebar_visible = yes
set sidebar_width   = 24

source ~/.mutt/dracula.muttrc
