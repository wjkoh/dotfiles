[ui]
username = wjkoh
commitsubrepos = False
# Use `merge = internal:merge` if you prefer markers. Tip: If anything goes
# wrong while merging, type `:cq` to exit Vim with an error. Then, hg ignores
# the changes and doesn't resolve the conflict prematurely.
merge = vimdiff
ssh = ssh -C

[pager]
pager = less -FRX

[merge-tools]
vimdiff.executable = vimdiff
vimdiff.args = -f -d $output -M $local $base $other -c "wincmd J" -c "set modifiable" -c "set write"
vimdiff.premerge = keep

[extdiff]
# Add a command called vimdiff that runs vimdiff with DirDiff plugin.
cmd.vimdiff = vim
opts.vimdiff = -f '+next' '+execute "DirDiff" fnameescape(argv(0)) fnameescape(argv(1))'

[subrepos]
allowed = True
git:allowed = True

[extensions]
color =
hgext.convert =
hgext.extdiff =
hgext.fetch =
hgext.graphlog =
progress =
purge =
rebase =
shelve =

# Google-specific configurations. See
# https://g3doc.corp.google.com/devtools/piper/g3doc/fig/user/customization.md?cl=head.
[color]
desc.here = green bold
changeset.remaining = bold black

[experimental]
graphshorten = True

[google_hgext]
pickcheckout.enable_curses_ui = true

[templatealias]
google_compact_desc_text = '{if(outsidenarrow,"", desc|firstline)}'

%include .hgrc_mac
