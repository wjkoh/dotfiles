[ui]
username = Woojong Koh <wjngkoh@gmail.com>
commitsubrepos = False
editor = vim
merge = internal:merge

[extdiff]
cmd.vimdiff = vimdiff

[subrepos]
allowed = True
git:allowed = True

[extensions]
color =
extdiff =
hgext.convert =
hgext.extdiff =
hgext.fetch =
hgext.graphlog =
progress =
purge =
rebase =
shelve =

[alias]
changed = !($HG status --no-status --change . ; $HG status --no-status) | sort -u
colordiff = diff --color=always

# https://github.com/junegunn/fzf/issues/1593#issuecomment-498007983.
vdiff = !$HG changed | fzf --exit-0 --preview '$HG colordiff {} -r .^' --bind 'enter:execute($HG vimdiff {} -r .^ < /dev/tty > /dev/tty 2>&1)'

%include .hgrc_google
